<script type="text/javascript">

    $(function() {
        $('#layout_west_tree').tree({
            url: '__APP__/Layout/menu',
            parentField: 'pid',
            lines: true,
            onClick: function(node) {
                var url;
                //console.info(node.attributes);
                if (node.attributes) {
                    url = APP + node.attributes;
                }
                else {
                    url = '__APP__' + url;
                }
                if (url.indexOf('druidController') > -1) {/*要查看连接池监控页面*/
                    layout_center_addTabFun({
                        title: node.text,
                        closable: true,
                        iconCls: node.iconCls,
                        content: '<iframe src="' + url + '" frameborder="0" style="border:0;width:100%;height:99%;"></iframe>'
                    });
                }
                else {
                    layout_center_addTabFun({
                        title: node.text,
                        closable: true,
                        iconCls: node.iconCls,
                        href: url
                    });
                }
            }
        });
    });
    function layout_center_addTab(url, title) {
        layout_center_addTabFun({
            title: title,
            closable: true,
            href: url,
        });
    }
</script>
<div class="easyui-accordion" data-options="fit:true,border:false">
    <div title="巡线管理" data-options="iconCls:'icon-house'" class="left_menu">
        <ul>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡线仪管理');"><img src="__PUBLIC__/images/patrol/Instrument.jpg" width="16" height="16"/>巡线仪管理</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡线员管理');"><img src="__PUBLIC__/images/patrol/Employee.jpg" width="16" height="16"/>巡线员管理 </div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡线缺陷管理');"><img src="__PUBLIC__/images/patrol/DefectEvent.jpg" width="16" height="16"/>巡线缺陷管理</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡线仪消息发送');"><img src="__PUBLIC__/images/patrol/Message.jpg" width="16" height="16"/>巡线仪消息发送</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '关键点审核');"><img src="__PUBLIC__/images/patrol/Payment.jpg" width="16" height="16"/>关键点审核</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '电力对象管理');"><img src="__PUBLIC__/images/patrol/EPObject.jpg" width="16" height="16"/>电力对象管理</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '数据查看');"><img src="__PUBLIC__/images/patrol/Instrument.jpg" width="16" height="16"/>数据查看</div>
            </li>
        </ul>
    </div>
    <div title="巡线报表" data-options="iconCls:'icon-house'" class="left_menu">
        <ul>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡检月报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>巡检月报表</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡检个人报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>巡检个人报表 </div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index', '巡检部门报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>巡检部门报表</div>
            </li>
        </ul>
    </div>
    <div title="业务办理" data-options="iconCls:'icon-add'" class="left_menu">
        <ul>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index','巡检部门报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>备案办理</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index','巡检部门报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>调解办理 </div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index','巡检部门报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>评审办理</div>
            </li>
            <li>
                <div onclick="layout_center_addTab('__APP__/User/index','巡检部门报表');"><img src="__PUBLIC__/images/DataAnaly.jpg" width="16" height="16"/>交付办理 </div>
            </li>
        </ul>
 </div>
    <div title="系统维护" data-options="isonCls:'icon-house',tools : [ {
         iconCls : 'icon-reload',
         handler : function() {
         $('#layout_west_tree').tree('reload');
         }
         }, {
         iconCls : 'icon-redo',
         handler : function() {
         var node = $('#layout_west_tree').tree('getSelected');
         if (node) {
         $('#layout_west_tree').tree('expandAll',  node.target);
         }  else {
         $('#layout_west_tree').tree('expandAll');
         }
         }
         }, {
         iconCls : 'icon-undo',
         handler : function() {
         var node = $('#layout_west_tree').tree('getSelected');
         if (node) {
         $('#layout_west_tree').tree('collapseAll',  node.target);
         }  else {
         $('#layout_west_tree').tree('collapseAll');
         }
         }
         }  ]">
        <ul id="layout_west_tree">
        </ul>
    </div>
</div>
